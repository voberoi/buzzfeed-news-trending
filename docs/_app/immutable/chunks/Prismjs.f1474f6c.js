import{B as L,f as U,C as M,i as D,b as V,d as P,e as k,P as h}from"./Prismjs.svelte_svelte_type_style_lang.6179febb.js";import{a0 as q,S as E,i as b,s as v,k as g,H as m,l as _,m as d,I as x,h as u,n as f,b as O,F as c,C as T,q as w,r as I,Q as B,R as G}from"./index.b6ea0941.js";import{b as X}from"./index.51cedaf4.js";function A(e,...t){if(typeof e=="function")throw new Error("You must supply the data as the first argument to tidy()");let r=e;for(const n of t)n&&(r=n(r));return r}function N(e){return r=>{const n=[];for(const s of r){const i={...s};for(const a in e){const l=e[a],o=typeof l=="function"?l(i):l;i[a]=o}n.push(i)}return n}}function y(e){if(e&&typeof e=="string"){let t=e.split(" ");e.includes(":")||(e=e+"T00:00:00"),t.length>2&&(e=t[0]+" "+t[1]);const r=/\.([^\s]+)/;e=e.replace(r,""),e=e.replace("Z",""),e=e.replace(" ","T")}return e}function ee(e,t){return e=A(e,N({[t]:r=>r[t]?new Date(y(r[t])):null})),e}function te(e,t){return e=A(e,N({[t]:r=>y(r[t])})),e}const R="axis",p="value",j=()=>q(M).getCustomFormats()||[],re=(e,t,r)=>{let n=K(e);if(t.evidenceType==="string")return;if(n){let i=j(),a=[...L,...i].find(l=>{var o;return((o=l.formatTag)==null?void 0:o.toLowerCase())===(n==null?void 0:n.toLowerCase())});if(a)return a}let s=U(e,t,r);if(s)return s},ne=(e,t=void 0,r=void 0)=>{try{return C(e,t,r,p)}catch(n){return console.warn(`Unexpected error calling applyFormatting(${e}, ${t}, ${p}, ${r}). Error=${n}`),e}},se=(e,t=void 0,r=void 0)=>{try{return C(e,t,r,R)}catch{}return e},ie=(e,t)=>{let r=e;if(e&&(t!=null&&t.formatTag)){let n=e.toLowerCase().lastIndexOf(`_${t.formatTag.toLowerCase()}`),s="";n>0&&(typeof(t==null?void 0:t.titleTagReplacement)=="string"&&(s=t.titleTagReplacement),r=e.substring(0,n)+s)}return r},H=e=>{switch(e){case"number":return 1234;case"date":return"2022-01-03";default:return}},ae=e=>{var n,s;let r=((n=e.userInput)==null?void 0:n.trim())||e.exampleInput||H(e.valueType);if(r)try{let i;if(e.valueType==="number"){let a=Number(r);i={min:a,max:a,median:a,maxDecimals:((s=a.toString().split(".")[1])==null?void 0:s.length)||0,unitType:"number"}}return C(r,e,i,p)}catch{}return""};function C(e,t=void 0,r=void 0,n=p){if(e==null)return"-";let s;if(t)try{let i=Y(t,n),a;try{t.valueType==="date"&&typeof e=="string"?a=new Date(y(e)):t.valueType==="number"&&typeof e!="number"&&!Number.isNaN(e)?a=Number(e):a=e}catch{a=e}if(D(t,i))try{s=V(a,t,r)}catch(l){console.warn(`Unexpected error applying auto formatting. Error=${l}`)}else s=P.format(i,a)}catch(i){console.warn(`Unexpected error applying formatting ${i}`)}return s===void 0&&(s=k(e)),s}function Y(e,t=p){return typeof e=="string"?e:t===R&&(e!=null&&e.axisFormatCode)?e.axisFormatCode:e==null?void 0:e.formatCode}function K(e){let t=e.toLowerCase(),r=t.lastIndexOf("_");if(r>0)return t.substr(r).replace("_","")}function Q(e){let t,r,n;return{c(){t=g("span"),r=m("svg"),n=m("path"),this.h()},l(s){t=_(s,"SPAN",{"aria-expanded":!0,class:!0});var i=d(t);r=x(i,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var a=d(r);n=x(a,"path",{fill:!0,"fill-rule":!0,d:!0}),d(n).forEach(u),a.forEach(u),i.forEach(u),this.h()},h(){f(n,"fill",e[1]),f(n,"fill-rule","evenodd"),f(n,"d","M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z"),f(r,"viewBox","0 0 16 16"),f(r,"width",e[2]),f(r,"height",e[2]),f(r,"class","svelte-c6mrxw"),f(t,"aria-expanded",e[0]),f(t,"class","svelte-c6mrxw")},m(s,i){O(s,t,i),c(t,r),c(r,n)},p(s,[i]){i&2&&f(n,"fill",s[1]),i&4&&f(r,"width",s[2]),i&4&&f(r,"height",s[2]),i&1&&f(t,"aria-expanded",s[0])},i:T,o:T,d(s){s&&u(t)}}}function S(e,t,r){let{toggled:n=!1}=t,{color:s="#2d2d2d"}=t,{size:i=10}=t;return e.$$set=a=>{"toggled"in a&&r(0,n=a.toggled),"color"in a&&r(1,s=a.color),"size"in a&&r(2,i=a.size)},[n,s,i]}class le extends E{constructor(t){super(),b(this,t,S,Q,v,{toggled:0,color:1,size:2})}}function Z(e){let t,r,n,s=h.highlight(e[0],h.languages.sql)+"",i,a;return{c(){t=g("pre"),r=w("  "),n=g("code"),i=w(`
`),this.h()},l(l){t=_(l,"PRE",{class:!0});var o=d(t);r=I(o,"  "),n=_(o,"CODE",{class:!0});var z=d(n);z.forEach(u),i=I(o,`
`),o.forEach(u),this.h()},h(){f(n,"class","language-sql svelte-isi8vj"),f(t,"class","svelte-isi8vj")},m(l,o){O(l,t,o),c(t,r),c(t,n),n.innerHTML=s,c(t,i)},p(l,[o]){o&1&&s!==(s=h.highlight(l[0],h.languages.sql)+"")&&(n.innerHTML=s)},i(l){a||B(()=>{a=G(t,X,{}),a.start()})},o:T,d(l){l&&u(t)}}}function J(e,t,r){let{code:n=""}=t;return e.$$set=s=>{"code"in s&&r(0,n=s.code)},[n]}class fe extends E{constructor(t){super(),b(this,t,J,Z,v,{code:0})}}export{le as C,fe as P,se as a,ie as b,ee as c,ae as d,H as e,ne as f,re as l,N as m,te as s,A as t};
